
{
  "entities": {
    "Product": {
      "title": "Product",
      "description": "Un producto de la feria Frutiandante",
      "type": "object",
      "properties": {
        "nombre": { "type": "string" },
        "descripcion": { "type": "string" },
        "precioDetalle": { "type": "number" },
        "imagenes": { "type": "array", "items": { "type": "string" } },
        "idCategoria": { "type": "string" },
        "slug": { "type": "string" },
        "created_at": { "type": "string", "format": "date-time" }
      },
      "required": ["nombre", "precioDetalle", "idCategoria", "slug"]
    },
    "Category": {
      "title": "Category",
      "description": "Categoría de productos",
      "type": "object",
      "properties": {
        "nombre": { "type": "string" },
        "slug": { "type": "string" },
        "imagen": { "type": "string" }
      },
      "required": ["nombre", "slug"]
    },
    "SiteConfig": {
      "title": "SiteConfig",
      "description": "Configuración general de la tienda",
      "type": "object",
      "properties": {
        "nombreEmpresa": { "type": "string" },
        "numeroWhatsapp": { "type": "string" },
        "urlLogo": { "type": "string" },
        "tituloAbout": { "type": "string" },
        "subtituloAbout": { "type": "string" },
        "historiaAbout": { "type": "string" },
        "misionAbout": { "type": "string" },
        "visionAbout": { "type": "string" },
        "urlImagenAbout": { "type": "string" },
        "porcentajeDescuentoSegundoPedido": { "type": "number", "description": "Porcentaje de descuento para el segundo pedido de usuarios registrados" }
      }
    },
    "Order": {
      "title": "Order",
      "description": "Un pedido realizado en la tienda",
      "type": "object",
      "properties": {
        "userId": { "type": "string", "description": "ID del usuario si está registrado" },
        "items": { "type": "array" },
        "total": { "type": "number" },
        "estado": { "type": "string", "enum": ["pendiente", "completado", "cancelado"] },
        "created_at": { "type": "string", "format": "date-time" }
      }
    },
    "UserProfile": {
      "title": "UserProfile",
      "description": "Perfil de usuario con rol",
      "type": "object",
      "properties": {
        "email": { "type": "string" },
        "role": { "type": "string", "enum": ["cliente", "admin"] },
        "created_at": { "type": "string", "format": "date-time" }
      },
      "required": ["email", "role"]
    }
  },
  "auth": {
    "providers": ["password", "google"]
  },
  "firestore": {
    "/products/{productId}": {
      "schema": "Product",
      "description": "Colección de productos"
    },
    "/categories/{categoryId}": {
      "schema": "Category",
      "description": "Colección de categorías"
    },
    "/config/site": {
      "schema": "SiteConfig",
      "description": "Documento único de configuración"
    },
    "/orders/{orderId}": {
      "schema": "Order",
      "description": "Historial de pedidos"
    },
    "/users/{userId}": {
      "schema": "UserProfile",
      "description": "Perfiles de usuario con sus roles"
    }
  }
}
